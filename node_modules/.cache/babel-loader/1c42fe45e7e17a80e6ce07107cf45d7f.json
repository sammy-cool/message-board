{"ast":null,"code":"var _jsxFileName = \"/home/priyanshu/Desktop/message-board/src/component/MessageItem.js\";\nimport React from 'react'; // npm install prop-types  \n\nimport PropTypes from 'prop-types';\nimport moment from 'moment'; // npm install moment\n\nclass MessageItem extends React.Component {\n  constructor(props) {\n    // to copy prop value into the state while creating component\n    super(props);\n\n    this.handleRemove = () => {\n      const id = this.props.id;\n      this.props.removeMessage(id);\n    };\n\n    this.handleEdit = () => {\n      // method responsible for toggle between text and form \n      this.setState(prevState => {\n        return {\n          editStatus: !prevState.editStatus\n        };\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      const formData = {\n        body: this.state.body\n      };\n      this.props.updateMessage(this.props.id, formData);\n      this.setState(prevState => {\n        return {\n          editStatus: !prevState.editStatus\n        };\n      });\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.displayButtons = () => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        onClick: this.handleRemove,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 17\n        }\n      }, \"remove\"), /*#__PURE__*/React.createElement(\"button\", {\n        onClick: this.handleEdit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 17\n        }\n      }, \"edit\"));\n    };\n\n    this.handleFullDate = () => {\n      this.setState({\n        fullDate: true\n      });\n    };\n\n    this.handleShortDate = () => {\n      this.setState({\n        fullDate: false\n      });\n    };\n\n    this.state = {\n      editStatus: false,\n      // state value used to do toggle on the screen\n      body: props.body,\n      // to prefill values inside the form\n      fullDate: false\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 13\n      }\n    }, this.state.editStatus ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"textarea\", {\n      value: this.state.body,\n      onChange: this.handleChange,\n      name: \"body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"update\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 33\n      }\n    }), \" or \", /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.handleEdit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 75\n      }\n    }, \"cancel\"))) : /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 25\n      }\n    }, \" \", this.props.body, \" -\", /*#__PURE__*/React.createElement(\"span\", {\n      onMouseOver: this.handleFullDate,\n      onMouseOut: this.handleShortDate,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 22\n      }\n    }, this.state.fullDate ? moment(this.props.createdAt).format('LLLL') : moment(this.props.createdAt).fromNow())), !this.state.editStatus && this.displayButtons());\n  }\n\n}\n\nMessageItem.propTypes = {\n  id: PropTypes.number.isRequired,\n  body: PropTypes.string.isRequired,\n  createdAt: PropTypes.string.isRequired\n};\nexport default MessageItem;","map":{"version":3,"sources":["/home/priyanshu/Desktop/message-board/src/component/MessageItem.js"],"names":["React","PropTypes","moment","MessageItem","Component","constructor","props","handleRemove","id","removeMessage","handleEdit","setState","prevState","editStatus","handleSubmit","e","preventDefault","formData","body","state","updateMessage","handleChange","target","name","value","displayButtons","handleFullDate","fullDate","handleShortDate","render","createdAt","format","fromNow","propTypes","number","isRequired","string"],"mappings":"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","sourcesContent":["import React from 'react'\n// npm install prop-types  \nimport PropTypes from 'prop-types'\nimport moment from 'moment' // npm install moment\n\nclass MessageItem extends React.Component {\n    constructor(props) { // to copy prop value into the state while creating component\n        super(props)\n        this.state = { \n            editStatus: false, // state value used to do toggle on the screen\n            body: props.body, // to prefill values inside the form\n            fullDate: false\n        }\n    }\n\n    handleRemove = () => {\n        const id = this.props.id \n        this.props.removeMessage(id)\n    }\n\n    handleEdit = () => { // method responsible for toggle between text and form \n        this.setState((prevState) => {\n            return {\n                editStatus: !prevState.editStatus\n            }\n        })\n    }\n\n    handleSubmit = (e) => {\n        e.preventDefault() \n        const formData = {\n            body: this.state.body \n        }\n        this.props.updateMessage(this.props.id, formData)\n\n        this.setState((prevState) => {\n            return {\n                editStatus: !prevState.editStatus\n            }\n        })\n    }\n\n    handleChange = (e) => { \n        this.setState({\n            [e.target.name]: e.target.value \n        })\n    }\n\n    displayButtons = () => {\n        return (\n            <div>\n                <button onClick={this.handleRemove}>remove</button>\n                <button onClick={this.handleEdit}>edit</button>\n            </div>\n        )\n    }\n\n    handleFullDate = () => {\n        this.setState({\n            fullDate: true \n        })\n    }\n\n    handleShortDate = () =>{ \n        this.setState( {\n            fullDate: false \n        })\n    }\n\n    render() {\n        return (\n            <div>\n                {\n                    this.state.editStatus ? (\n                        <div>\n                            <form onSubmit={this.handleSubmit}>\n                                <textarea \n                                    value={this.state.body}\n                                    onChange={this.handleChange}\n                                    name=\"body\"\n                                ></textarea>\n                                <input type=\"submit\" value=\"update\" /> or <button onClick={this.handleEdit}>cancel</button>\n                            </form> \n                            \n                        </div> \n                    ) : <p> {this.props.body} - \n                    \n                     <span onMouseOver={this.handleFullDate} onMouseOut={this.handleShortDate}>\n                        {   this.state.fullDate ? moment(this.props.createdAt).format('LLLL') : moment(this.props.createdAt).fromNow() }\n                    </span>\n                  \n                    \n                    </p>\n                }\n                \n\n                {!this.state.editStatus && this.displayButtons()}\n            </div>\n        )\n    }\n}\n\nMessageItem.propTypes = {\n    id: PropTypes.number.isRequired,\n    body: PropTypes.string.isRequired,\n    createdAt: PropTypes.string.isRequired\n}\n\nexport default MessageItem"]},"metadata":{},"sourceType":"module"}